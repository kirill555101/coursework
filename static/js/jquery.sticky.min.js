!function(t){t.fn.sticky=function(e){var i=t.extend({topspacing:20,marginbottom:150,stopper:".footer",styler:"",unlockwidth:!1,animduration:500,sticktype:"afterall",screenlimit:!0,stick:function(){},unstick:function(){}},e),o=this;return this.each(function(e){function n(t,e){"stick"!=t||u||(void 0!==i.stick&&i.stick(e),u=!0,""!=i.styler&&e.addClass(i.styler)),"unstick"==t&&u&&(void 0!==i.unstick&&i.unstick(e),u=!1,""!=i.styler&&e.removeClass(i.styler))}function s(){var s=this.pageYOffset+i.topspacing,g=(t(i.stopper).length>0?t(i.stopper).offset().top:t("body").height())-i.marginbottom;i.screenlimit&&t(window).width()<1024||t(window).height()<500||screen.width<1024||("directly"==i.sticktype?((s+f.outerHeight(!0)<g||f.offset().top+f.outerHeight(!0)<g)&&f.offset().top<s&&(o.length-1>=e&&h.height()<f.height()&&"undefined"!=typeof f.next().offset()&&f.next().offset().top>s||o.length-1>=e&&"undefined"==typeof f.next().offset())?s+f.outerHeight(!0)<g&&h.height(s-h.offset().top):h.offset().top+h.outerHeight(!0)>s&&h.height(s-h.offset().top),!u&&f.offset().top>=s&&h.height()>0?n("stick",f):u&&(f.offset().top<s||f.offset().top>s&&0==h.height())&&n("unstick",f)):this.pageYOffset+a+f.outerHeight(!0)>g||"alonemenu"==i.sticktype&&1==o.length&&h.height()>0&&this.pageYOffset<=h.offset().top?h.height()>0&&(h.height(0),f.css(p),n("unstick",f)):"alonemenu"==i.sticktype&&1==o.length&&f.offset().top<=s||"afterall"==i.sticktype&&c.offset().top+c.outerHeight(!0)<=s?0==h.height()&&(h.height(f.outerHeight()),f.css({position:"fixed",top:a+"px"}),i.unlockwidth||f.width(r),i.animduration>0&&""!=i.animduration&&f.animate({opacity:0},0,function(){f.animate({opacity:1},i.animduration)}),n("stick",f)):h.height()>0&&(h.height(0),f.css(p),n("unstick",f)))}if(!(i.screenlimit&&/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent.toLowerCase())||t(window).width()<1024||t(window).height()<500||screen.width<1024)){var h,f=t(this),c=f.parent(),r=f.width(),a=i.topspacing,p={position:"relative",top:"auto",width:"auto"},u=!1;("afterall"==i.sticktype||"alonemenu"==i.sticktype)&&o.slice(0,e).each(function(t){a+=o.eq(t).outerHeight(!0)}),f.before(t('<div class="placeholder"></div>').width(r).height(0)),h=f.prev(".placeholder"),t(window).bind("scroll resize",function(){s()}),setTimeout(function(){t(window).trigger("scroll")},0)}})}}(jQuery);